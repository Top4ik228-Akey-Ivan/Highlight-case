# Алгоритм подсветки синтаксиса булевых выражений

## Описание
Алгоритм реализует подсветку синтаксиса булевых выражений в текстовом поле на основе React и TypeScript. Он токенизирует входную строку, классифицирует токены (например, ключи, значения, операторы) и отображает их с цветовой подсветкой, выделяя синтаксические ошибки. Используется для интерактивного редактирования логических выражений с визуальной обратной связью.

## Основные этапы
1. **Токенизация**: Разбиение строки на токены с помощью регулярного выражения. Токены классифицируются как `key` (ключ), `value` (значение), `logical-operator` (`AND`, `OR`), `logical-prefix` (`NOT`), `bracket` (скобки), `whitespace` (пробелы) или `unknown` (неизвестные).
2. **Валидация токенов**: Проверка корректности:
   - Баланс скобок.
   - Правильное расположение операторов (`AND`, `OR` должны быть между значениями, `NOT` — перед выражением).
   - Соответствие типов (например, значение после ключа, запрет смешивания `key=value` и одиночных значений).
   - Ошибочные токены помечаются как `error`.
3. **Генерация подсветки**: Преобразование токенов в HTML с цветами, соответствующими их типу. Ошибки подчеркиваются красной волнистой линией.
4. **Отрисовка**: Синхронизация подсвеченного слоя с текстовым полем через React-компонент, обновление при изменении текста.

## Сильные стороны
- **Интерактивность**: Мгновенная подсветка и выделение ошибок улучшают пользовательский опыт.
- **Гибкость**: Поддерживает `key=value`, одиночные значения, скобки и логические операторы.
- **Визуальная ясность**: Разные цвета для ключей, значений и операторов упрощают чтение.
- **Обнаружение ошибок**: Точно выявляет несбалансированные скобки, неверные операторы и несоответствия типов.

## Слабые стороны
- **Ограниченные операторы**: Поддерживает только `=`, `AND`, `OR`, `NOT`, без `!=`, `>`, `<` и других.
- **Нет семантической проверки**: Не валидирует смысл значений (например, `age='invalid'`).
- **Производительность**: Регулярные выражения и частые рендеры могут замедлять работу при больших строках.
- **Жесткие правила**: Запрещает смешивание `key=value` и одиночных значений, что может быть неудобно.